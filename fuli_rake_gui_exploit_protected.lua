-- Fuli GUI Exploit - Versión Protegida
-- Protección Anti-Kick, Anti-Ban, y Anti-Detect para The Rake: Remastered

-- Protecciones básicas
local mt = getrawmetatable(game)
setreadonly(mt, false)
local old = mt.__namecall
mt.__namecall = newcclosure(function(self, ...)
    local args = {...}
    local method = getnamecallmethod()
    if method == "Kick" then
        return warn("[PROTECCIÓN]: Se bloqueó un intento de Kick")
    end
    return old(self, unpack(args))
end)

game:GetService("Players").LocalPlayer.Kick = function()
    warn("[PROTECCIÓN]: Se bloqueó Kick por modificación directa.")
end

-- Desactiva conexiones sospechosas de RemoteEvents
for _, v in pairs(getgc(true)) do
    if typeof(v) == "function" and islclosure(v) and not isexecutorclosure(v) then
        local info = debug.getinfo(v)
        if info.name == "FireServer" or info.name == "InvokeServer" then
            hookfunction(v, function(...)
                warn("[PROTECCIÓN]: Evento remoto bloqueado.")
                return nil
            end)
        end
    end
end

-- Carga el script principal (asegúrate de que siga existiendo)
loadstring(game:HttpGet("https://raw.githubusercontent.com/fuliscripts/UPD-The-Rake-REMASTERADO/refs/heads/main/fuliscripts_rake_gui_exploit.lua"))()
